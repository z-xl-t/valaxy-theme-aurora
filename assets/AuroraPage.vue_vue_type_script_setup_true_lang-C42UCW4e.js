import{d as y,g as P,h as S,o as a,e as u,c as m,w as _,i as v,F as h,j as C,k as $,t as b,n as z,l as L,m as k,T as w,q as V,s as A,v as f,x as B}from"./app-Bn_kGdL9.js";import{_ as N}from"./AuroraPostCard.vue_vue_type_script_setup_true_lang-CVPp0CmY.js";const T={class:"pagination"},j=L("div",{"i-ri-arrow-left-s-line":""},null,-1),x=L("div",{"i-ri-arrow-right-s-line":""},null,-1),F=y({__name:"ValaxyPagination",props:{curPage:{},total:{},pageSize:{}},emits:["pageChange"],setup(p,{emit:t}){const n=p,c=t,o=P(()=>Math.ceil(n.total/n.pageSize)),r=P(()=>n.curPage===1||n.curPage===o.value?3:2);function g(e){return e===1||e===o.value?!0:e>n.curPage-r.value&&e<n.curPage+r.value}function l(e){return c("pageChange",e),e===1?"/":`/page/${e}`}return(e,d)=>{const i=S("RouterLink");return a(),u("nav",T,[e.curPage!==1?(a(),m(i,{key:0,class:"page-number",to:l(e.curPage-1),"aria-label":"prev"},{default:_(()=>[j]),_:1},8,["to"])):v("v-if",!0),(a(!0),u(h,null,C(o.value,s=>(a(),u(h,null,[g(s)?(a(),m(i,{key:s,class:z(["page-number",e.curPage===s&&"active"]),to:l(s)},{default:_(()=>[$(b(s),1)]),_:2},1032,["class","to"])):s===e.curPage-r.value?(a(),u("span",{key:`prev-space-${s}`,class:"space",disabled:""}," ... ")):s===e.curPage+r.value?(a(),u("span",{key:`next-space-${s}`,class:"space",disabled:""}," ... ")):v("v-if",!0)],64))),256)),e.curPage!==o.value?(a(),m(i,{key:1,class:"page-number",to:l(e.curPage+1),"aria-label":"next"},{default:_(()=>[x]),_:1},8,["to"])):v("v-if",!0)])}}}),H={key:0,class:"post-list"},R=y({__name:"AuroraHomePostList",props:{posts:{}},setup(p){return(t,n)=>{const c=N;return t.posts?(a(),u("div",H,[(a(!0),u(h,null,C(t.posts,(o,r)=>(a(),m(w,{key:r,name:"fade"},{default:_(()=>[k(c,{post:o},null,8,["post"])]),_:2},1024))),128))])):v("v-if",!0)}}}),q={class:"home"},M=y({__name:"AuroraPage",props:{type:{},posts:{},curPage:{default:1}},setup(p){const t=p,n=V(),c=A(),o=P(()=>c.value.pageSize),r=f([]),g=f(),l=f([]);return B(()=>t.curPage,()=>{var e;r.value=(t.posts||n.postList).filter(d=>!d.hide),l.value=(e=r.value)==null?void 0:e.slice((t.curPage-1)*o.value,t.curPage*o.value),g.value=r.value.length},{immediate:!0}),(e,d)=>{const i=R,s=F;return a(),u("div",q,[k(i,{posts:l.value},null,8,["posts"]),k(s,{"cur-page":t.curPage,"page-size":o.value,total:g.value},null,8,["cur-page","page-size","total"])])}}});export{M as _};
