import{_ as E}from"./Layout.vue_vue_type_script_setup_true_lang-DtQ0cLj8.js";import{_ as F}from"./AuroraPostCollapse.vue_vue_type_script_setup_true_lang-C1R2HYQQ.js";import{d as j,u as z,v as y,h as A,o,e as r,l as c,t as $,F as h,j as q,m as u,c as L,w as T,i as N,y as Q,a as S,q as R,N as I,g as w,f as K,_ as M}from"./app-Bn_kGdL9.js";import{s as P,a as W,_ as b}from"./index-q4TuqsxP.js";const G={class:"category-header"},H={key:0,"i-ri-folder-add-line":""},J={key:1,"i-ri-folder-reduce-line":""},O={key:0,class:"category-container"},X={class:"category-list"},Y={class:"category-list"},Z=c("div",{"i-ri-file-text-line":""},null,-1),x=j({__name:"AuroraCategory",props:{parentKey:{},category:{},level:{default:0},collapsable:{type:Boolean,default:!0}},setup(k){const i=k,_=z(),n=y(!0);function m(t){_.push({query:{category:t}}),P(".post-collapse-container")}const p=y([]),v=y([]);return i==null||i.category.children.forEach(t=>{const a=t;a.children?v.value.push(a):p.value.push(a)}),(t,a)=>{var d,f,l;const C=A("AuroraCategory",!0),s=A("router-link");return o(),r(h,null,[c("div",G,[c("span",{onClick:a[0]||(a[0]=e=>n.value=!n.value)},[n.value?(o(),r("div",H)):(o(),r("div",J))]),c("span",{onClick:a[1]||(a[1]=e=>m(t.parentKey))},$(((d=t.category)==null?void 0:d.name)==="Uncategorized"?"未分类":(f=t.category)==null?void 0:f.name)+" ["+$((l=t.category)==null?void 0:l.total)+"] ",1)]),n.value?N("v-if",!0):(o(),r("div",O,[c("ul",X,[(o(!0),r(h,null,q(v.value,(e,g)=>(o(),r("li",{key:g},[c("div",Y,[u(C,{"parent-key":t.parentKey?`${t.parentKey}/${e==null?void 0:e.name}`:e==null?void 0:e.name,category:e,level:t.level+1,collapsable:t.collapsable},null,8,["parent-key","category","level","collapsable"])])]))),128)),(o(!0),r(h,null,q(p.value,(e,g)=>(o(),r("li",{key:g,class:"category-post-item"},[e!=null&&e.title?(o(),L(s,{key:0,to:(e==null?void 0:e.path)||""},{default:T(()=>[Z,c("span",null,$(e==null?void 0:e.title),1)]),_:2},1032,["to"])):N("v-if",!0)]))),128))])]))],64)}}}),ee={class:"categories"},te=j({__name:"AuroraCategories",setup(k){const i=Q(),_=S().name,n=W(i.value.menu,_),m=R(),p=I().value.children,v=y(!0),t=y(0),a=S(),C=z(),s=w(()=>a.query.category||""),d=w(()=>m.postList.filter(e=>e.categories&&s.value!=="Uncategorized"?typeof e.categories=="string"?e.categories===s.value:e.categories.join("/").startsWith(s.value)&&e.categories[0]===s.value.split("/")[0]:!e.categories&&s.value==="Uncategorized"?e.categories===void 0:!1));function f(){const l=a.name;l&&C.push({name:l})}return(l,e)=>{const g=b,U=x,V=F;return o(),r("div",ee,[u(g,{quote:K(n)},null,8,["quote"]),(o(!0),r(h,null,q(K(p),(B,D)=>(o(),r("ul",{key:D,class:"category-list"},[u(U,{"parent-key":B[1].name,category:B[1],level:t.value+1,collapsable:v.value},null,8,["parent-key","category","level","collapsable"])]))),128)),u(V,{title:s.value,posts:d.value,back:f},null,8,["title","posts"])])}}}),oe={};function ae(k,i){const _=te,n=A("router-view"),m=E;return o(),L(m,null,{"main-content":T(()=>[u(_),u(n)]),_:1})}const ce=M(oe,[["render",ae]]);export{ce as default};
