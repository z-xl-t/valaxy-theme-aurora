import{d as Y,v as h,x as g,S as m,g as N,h as V,o as s,e as a,l as o,n as b,i as p,t as c,F as _,j as f,f as k,U as w,m as F,w as z,k as E}from"./app-Bn_kGdL9.js";const L={class:"post-collapse-container"},M={class:"collection-title"},S=["id"],U={class:"post-header"},j={class:"post-meta"},x={key:0},A={class:"post-title"},O=Y({__name:"AuroraPostCollapse",props:{posts:{},title:{},icon:{},back:{type:Function}},setup(y){const i=y,u=h([]),n=h({});g(()=>i.posts,()=>{n.value={},u.value=[],i.posts.forEach(e=>{if(!(e.hide&&e.hide!=="index")&&e.date){const t=parseInt(m(e.date,"YYYY"));n.value[t]?n.value[t].push(e):(u.value.push(t),n.value[t]=[e])}})},{immediate:!0});const v=h(!0),C=N(()=>{const t=u.value.sort((d,l)=>l-d);return v.value?t:t.reverse()});function B(){typeof i.back=="function"&&i.back()}return(e,t)=>{const d=V("router-link");return s(),a("div",L,[e.title?(s(),a("header",{key:0,class:"collapse-header",onClick:B},[o("h1",null,[e.icon?(s(),a("div",{key:0,class:b(["icon",e.icon])},null,2)):p("v-if",!0),o("span",null,c(e.title==="Uncategorized"?"未分类":e.title),1)])])):p("v-if",!0),o("ul",null,[(s(!0),a(_,null,f(C.value,l=>(s(),a("li",{key:l,class:"collapse-collection"},[o("div",M,[o("h2",{id:`#archive-year-${l}`,class:"archive-year"},c(l),9,S)]),(s(!0),a(_,null,f(k(w)(n.value[l],v.value),(r,D)=>(s(),a("article",{key:D,class:"post-item"},[o("header",U,[o("div",j,[r.date?(s(),a("time",x,c(k(m)(r.date,"MM-DD")),1)):p("v-if",!0)]),o("h2",A,[F(d,{to:r.path||"",class:"post-title-link"},{default:z(()=>[E(c(r.title),1)]),_:2},1032,["to"])])])]))),128))]))),128))])])}}});export{O as _};
